%test
let co = fn () ->
  yield 1.;
  yield 2.;
  yield 3.
;;

let test_it0 = fn () ->
  let inst = co ();
  let _v = inst ();
  match _v with
  | Some 1. -> true
  | _ -> false
;;

let test_it1 = fn () ->
  let inst = co ();
  let v = inst ();
  let _v = inst ();
  match _v with
  | Some 2. -> true
  | _ -> false
;;

let test_it2 = fn () ->
  let inst = co ();
  let v = inst ();
  let _v = inst ();
  let __v = inst ();
  match __v with
  | Some 3. -> true
  | _ -> false
;;

let test_cor_end = fn () ->
  let inst = co ();
  let v = inst ();
  let _v = inst ();
  let __v = inst ();
  let ___v = inst ();
  match ___v with
  | None -> true
  | _ -> false
;;
