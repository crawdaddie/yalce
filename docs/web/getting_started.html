<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>YLC Documentation</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <header class="top-bar">
      <div class="top-bar-content">
        <h1><a href="index.html">ðŸ¦” YLC</a></h1>
        <nav>
          <a href="repl.html">
            <svg width="20" height="20" viewBox="0 0 16 16" fill="currentColor">
              <path d="M2 3.75C2 2.784 2.784 2 3.75 2h8.5c.966 0 1.75.784 1.75 1.75v8.5A1.75 1.75 0 0 1 12.25 14h-8.5A1.75 1.75 0 0 1 2 12.25Zm1.75-.25a.25.25 0 0 0-.25.25v8.5c0 .138.112.25.25.25h8.5a.25.25 0 0 0 .25-.25v-8.5a.25.25 0 0 0-.25-.25ZM5 6.5h6v1H5Zm0 3h6v1H5Z"/>
            </svg>
            REPL
          </a>
          <a href="https://github.com/crawdaddie/yalce" target="_blank" rel="noopener noreferrer">
            <svg width="20" height="20" viewBox="0 0 16 16" fill="currentColor">
              <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/>
            </svg>
            GitHub
          </a>
        </nav>
      </div>
    </header>
    <main class="content">
      <h1 id="getting-started-with-ylc">Getting Started with YLC</h1>
<p>This guide will help you install YLC and write your first programs.</p>
<h2 id="installation">Installation</h2>
<h3 id="option-1-homebrew-macos">Option 1: Homebrew (macOS)</h3>
<div class="codehilite"><pre><span></span><code>brew<span class="w"> </span>install<span class="w"> </span>crawdaddie/yalce/yalce
</code></pre></div>

<h3 id="option-2-build-from-source">Option 2: Build from Source</h3>
<h4 id="prerequisites">Prerequisites</h4>
<ul>
<li><strong>LLVM@20</strong> - For JIT compilation</li>
<li><strong>readline</strong> - For REPL line editing</li>
<li><strong>libsoundio</strong> - For audio I/O</li>
<li><strong>libsndfile</strong> - For reading audio file formats</li>
<li><strong>fftw3</strong> - For FFT operations</li>
<li><strong>SDL2</strong> (plus <strong>SDL2_ttf</strong>, <strong>SDL2_gfx</strong>) - For GUI (optional)</li>
</ul>
<p>On macOS with Homebrew:</p>
<h4 id="build-steps">Build Steps</h4>
<ol>
<li>
<p>Clone the repository:</p>
<div class="codehilite"><pre><span></span><code>git clone https://github.com/crawdaddie/yalce.git
cd yalce
</code></pre></div>

</li>
<li>
<p>Create a <code>.env</code> file with paths to dependencies:</p>
<div class="codehilite"><pre><span></span><code># .env
export CPATH=/opt/homebrew/include
export LIBRARY_PATH=/opt/homebrew/lib
export LLVM_PATH=/opt/homebrew/opt/llvm@20
export SDL2_PATH=/opt/homebrew/opt/sdl2
export SDL2_TTF_PATH=/opt/homebrew/opt/sdl2_ttf
export SDL2_GFX_PATH=/opt/homebrew/opt/sdl2_gfx
export READLINE_PREFIX=/opt/homebrew/opt/readline
export LIBSOUNDIO_PATH=/opt/homebrew/opt/libsoundio
export LIBSNDFILE_PATH=/opt/homebrew/opt/libsndfile
export LIBFFTW3_PATH=/opt/homebrew/opt/fftw
</code></pre></div>

<p>Or you can use the script <code>./setup.sh</code> to download dependencies automatically and create the .env file</p>
</li>
<li>
<p>Build the compiler:</p>
<div class="codehilite"><pre><span></span><code>make
</code></pre></div>

</li>
</ol>
<p>This creates the <code>ylc</code> executable in <code>build/ylc</code>.</p>
<ol>
<li>
<p>(Optional) Add to your PATH:</p>
<div class="codehilite"><pre><span></span><code>export PATH=&quot;$PATH:$(pwd)/build&quot;
</code></pre></div>

<p>or add to a folder in your PATH:</p>
<div class="codehilite"><pre><span></span><code>ln -s &quot;$PWD/build/ylc&quot; &quot;$HOME/.local/bin/ylc&quot;
</code></pre></div>

</li>
</ol>
<h2 id="your-first-ylc-program">Your First YLC Program</h2>
<h3 id="hello-world">Hello World</h3>
<p>Create a file <code>hello.ylc</code>:</p>
<div class="codehilite"><pre><span></span><code>let message = &quot;Hello, YALCE!&quot;;
print message;
</code></pre></div>

<p>Run it:</p>
<div class="codehilite"><pre><span></span><code>ylc<span class="w"> </span>hello.ylc
</code></pre></div>

<h3 id="interactive-repl">Interactive REPL</h3>
<p>Start the REPL:</p>
<div class="codehilite"><pre><span></span><code>ylc
</code></pre></div>

<p>Try some expressions:</p>
<div class="codehilite"><pre><span></span><code>Î» 1 + 2
&gt; Int: 3

Î» let double = fn x -&gt; x * 2;
&gt; âˆ€ `3, : (`3 -&gt; tc resolve Arithmetic [ `3 : Int])

Î» let d = double 21 in print `{d}\n`
&gt; ()
Int: 42
</code></pre></div>

<h3 id="recursive-functions">Recursive Functions</h3>
<p>Create <code>factorial.ylc</code>:</p>
<div class="codehilite"><pre><span></span><code><span class="o">#</span> <span class="n">factorial</span><span class="o">.</span><span class="n">ylc</span>
<span class="k">let</span> <span class="n">factorial</span> <span class="o">=</span> <span class="n">fn</span> <span class="n">n</span> <span class="o">-&gt;</span>
  <span class="k">match</span> <span class="n">n</span> <span class="k">with</span>
  <span class="o">|</span> <span class="mi">0</span> <span class="o">-&gt;</span> <span class="mi">1</span>
  <span class="o">|</span> <span class="mi">1</span> <span class="o">-&gt;</span> <span class="mi">1</span>
  <span class="o">|</span> <span class="o">_</span> <span class="o">-&gt;</span> <span class="n">n</span> <span class="o">*</span> <span class="o">(</span><span class="n">factorial</span> <span class="o">(</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="o">))</span>
<span class="o">;;</span>

<span class="n">print</span> <span class="o">`{</span><span class="n">factorial</span> <span class="mi">5</span><span class="o">}</span><span class="err">\</span><span class="n">n</span><span class="o">`;</span>

<span class="o">#</span> <span class="nc">Output</span><span class="o">:</span> <span class="mi">120</span>
</code></pre></div>

<p>Run it:</p>
<div class="codehilite"><pre><span></span><code>ylc<span class="w"> </span>factorial.ylc
</code></pre></div>

<h2 id="ylc-cli-options">YLC CLI options</h2>
<h3 id="ylc-i"><code>ylc -i</code></h3>
<p>the -i flag enters the interactive repl after all input files have been run </p>
<div class="codehilite"><pre><span></span><code>ylc<span class="w"> </span>audio_program_setup.ylc<span class="w"> </span>-i
</code></pre></div>

<p>without input files <code>-i</code> is assumed, so <code>ylc</code> will drop you straight into the repl</p>
<h3 id="ylc-debug-ir-pre-moduleylc"><code>ylc --debug-ir-pre &lt;module&gt;.ylc</code></h3>
<p>prints the LLVM IR (<em>before</em> optimisation passes have been run on it) for the input module</p>
<h3 id="ylc-debug-ir-moduleylc"><code>ylc --debug-ir &lt;module&gt;.ylc</code></h3>
<p>prints the LLVM IR (<em>after</em> optimisation passes have been run on it) for the input module</p>
<h3 id="ylc-0level-moduleylc"><code>ylc -0&lt;level&gt; &lt;module&gt;.ylc</code></h3>
<p>the optimisation level for the LLVM compiler backend to use before execution.</p>
<p>the available options are <code>-O0</code>, <code>-O1</code>, <code>-O2</code> and <code>-O3</code>.  <br />
without this option, <code>-O3</code> (the most aggressive) is used by default.<br />
these correspond roughly with <a href="https://clang.llvm.org/docs/CommandGuide/clang.html#code-generation-options">clang's optimisation options</a></p>
<h3 id="ylc-test-moduleylc"><code>ylc --test &lt;module&gt;.ylc</code></h3>
<p><strong>ylc</strong> includes a built-in test framework:</p>
<div class="codehilite"><pre><span></span><code><span class="o">#</span> <span class="n">arithmetic</span><span class="o">.</span><span class="n">ylc</span>
<span class="k">let</span> <span class="n">test</span> <span class="o">=</span> <span class="k">module</span> <span class="bp">()</span> <span class="o">-&gt;</span>
  <span class="k">let</span> <span class="n">test_addition</span> <span class="o">=</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">4</span><span class="o">;</span>
  <span class="k">let</span> <span class="n">test_double</span> <span class="o">=</span> <span class="o">(</span><span class="k">let</span> <span class="n">f</span> <span class="o">=</span> <span class="o">(</span><span class="n">fn</span> <span class="n">x</span> <span class="o">-&gt;</span> <span class="n">x</span> <span class="o">*</span> <span class="mi">2</span><span class="o">)</span> <span class="k">in</span> <span class="n">f</span> <span class="mi">3</span> <span class="o">==</span> <span class="mi">6</span><span class="o">);</span>
<span class="o">;</span>
</code></pre></div>

<p>the <code>--test &lt;module&gt;.ylc</code> option runs the tests in the module specified:</p>
<div class="codehilite"><pre><span></span><code>$<span class="w"> </span>ylc<span class="w"> </span>--test<span class="w"> </span>arithmetic.ylc

<span class="c1"># Test arithmetic.ylc</span>
-----------------------------------------
âœ…<span class="w"> </span>test_addition
âœ…<span class="w"> </span>test_double
<span class="m">2</span><span class="w"> </span>/<span class="w"> </span><span class="m">2</span><span class="w"> </span>passed
</code></pre></div>

<h2 id="next-steps">Next Steps</h2>
<ul>
<li><a href="reference.html">Language Reference</a> - Learn all language features</li>
<li><a href="examples.html">Examples</a> - more examples</li>
</ul>
    </main>
    <script>
      // Add copy buttons to code blocks
      document.addEventListener('DOMContentLoaded', function() {
        const codeBlocks = document.querySelectorAll('.codehilite');

        codeBlocks.forEach(function(codeBlock) {
          const button = document.createElement('button');
          button.className = 'copy-button';
          button.setAttribute('aria-label', 'Copy code to clipboard');
          button.innerHTML = '<svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor"><path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path></svg>';

          button.addEventListener('click', function() {
            const code = codeBlock.querySelector('pre').textContent;

            navigator.clipboard.writeText(code).then(function() {
              button.innerHTML = '<svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor"><path d="M13.78 4.22a.75.75 0 0 1 0 1.06l-7.25 7.25a.75.75 0 0 1-1.06 0L2.22 9.28a.751.751 0 0 1 .018-1.042.751.751 0 0 1 1.042-.018L6 10.94l6.72-6.72a.75.75 0 0 1 1.06 0Z"></path></svg>';
              button.classList.add('copied');

              setTimeout(function() {
                button.innerHTML = '<svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor"><path d="M0 6.75C0 5.784.784 5 1.75 5h1.5a.75.75 0 0 1 0 1.5h-1.5a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-1.5a.75.75 0 0 1 1.5 0v1.5A1.75 1.75 0 0 1 9.25 16h-7.5A1.75 1.75 0 0 1 0 14.25Z"></path><path d="M5 1.75C5 .784 5.784 0 6.75 0h7.5C15.216 0 16 .784 16 1.75v7.5A1.75 1.75 0 0 1 14.25 11h-7.5A1.75 1.75 0 0 1 5 9.25Zm1.75-.25a.25.25 0 0 0-.25.25v7.5c0 .138.112.25.25.25h7.5a.25.25 0 0 0 .25-.25v-7.5a.25.25 0 0 0-.25-.25Z"></path></svg>';
                button.classList.remove('copied');
              }, 2000);
            }).catch(function(err) {
              console.error('Failed to copy:', err);
            });
          });

          codeBlock.style.position = 'relative';
          codeBlock.appendChild(button);
        });
      });
    </script>
  </body>
</html>
